title: "기하학의 기초"
date: 2013-10-21 13:18:35
category: mathematics
tags: [geometry, 수학, 그래픽스]
---
{% rawblock %}
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>
{% endrawblock %}

## 두 점 사이의 거리

두 점이 존재한다면, 두 점 사이의 거리가 알고 싶을 수도 있을 것이다.  
두 점 사이의 거리를 계산하는 가장 간단한 방법은 바로 ``피타고라스의 정리``를 이용하는 것이다.
피타고라스의 정리는 직각 삼각형에만 적용되는 정리로써,  
아래 그림과 같이 빗변의 길이가 c이고 두 변 a와 b가 직교한다면

> ![피타고라스의 정리](/imgs/pitagoras.png)
>
> {% rawblock %}
a<sup>2</sup> + b<sup>2</sup> = c<sup>2</sup>
{% endrawblock %}

과 같은 정리가 성립한다.
교과과정을 통해 익히 배워서 알고 있는 내용일 것이다.

마찬가지로 피타고라스 정리의 역 또한 성립하는데.. {% raw %}a<sup>2</sup> + b<sup>2</sup> = c<sup>2</sup>{% endraw %} 이 성립한다면 이 삼각형의 빗변의 길이는 c이다.

즉, 이 피타고라스의 정리를 이용하면 두 점의 거리를 계산할 수 있다.

![P1(10, 20)과 P2(40, 50)사이의 거리](/imgs/pitagoras_ex1.png)

위 그림과 같이 점 P1(10, 20)과 P2(40, 60)사이의 거리를 구하려면, 가상의 점 T(40, 20)을 추가한 다음, 피타고라스의 정리를 적용하여 P1과 P2의 거리를 구할 수 있다. 정리하면 다음과 같다.

> 1. 가상의 점 T(40, 20)를 설정
> 2. 점 P1, P2, T를 이으면, 직각 삼각형이 그려진다.
> 3. 그려진 직각 삼각형의 밑변은 (Tx - P1x) = 30, 높이는 (P2y - Ty) = 40
> 4. 피타고라스의 정리를 사용하여 계산하면, {% raw %}30<sup>2</sup> + 40<sup>2</sup> = 2500{% endraw %}
> 5. 2500의 제곱근은 50이므로 점 P1과 P2의 거리는 50


위 정리는 거리의 공식이라는 간단한 식으로 요약할 수 있는데, 가상의 점 T가 P2와 P1의 각축간 거리에 해당된다는 점에서 다음과 같이 정리할 수 있다.

![P1과 P2사이의 거리공식](/imgs/pitagoras_ex2.png)


그렇다면, 3차원상에서 두 점사이의 거리를 구할 수 없을까?  
답은 간단하다. 위에서 설명한 이론에 z축만 추가하면 된다.

![3차원상에서 P1과 P2사이의 거리공식](/imgs/pitagoras_ex3.png)

자바스크립트로 3차원상에서 점의 거리를 구하는 함수는 다음과 같이 작성할 수 있다.

```js 두 점 사이의 거리
function distance3D(p1, p2) {
    var deltaX = p2.x - p1.x,
        deltaY = p2.y - p1.y,
        deltaZ = p2.z - p1.z;

    return Math.sqrt( (deltaX * deltaX) + (deltaY * deltaY) + (deltaZ * deltaZ) );
}
```
  
  
## 포물선
모든 물체의 운동은 포물선의 형태를 가진다.  
우리가 좋아하는 스포츠 경기에서 공의 움직임을 생각해보자. 농구에서 필드슛을 던질때 농구공은 선수의 손으로 부터 포물선으로 움직여서 림으로 향한다. 야구에서 투수는 직선으로 강속구를 던지는것처럼 보이지만, 절벽에서 투구를 한다면 마찬가지로 포물선을 그리며 아래로 떨어질것이다. 이렇듯, 모든 물체의 운동은 포물선의 형태를 가진다.

이런 포물선의 운동역시 방정식으로 정의할 수 있다. 포물선의 방정식을 결정하는 요소는 포물선의 꼭지점과 대칭축이다.  
포물선의 꼭지점은 포물선이 꺾이는 지점의 정점이며, 대칭축은 포물선의 꼭지점을 가로지르는 축으로써 이 축을 기준으로 포물선을 반으로 접는다고 가정하였을경우 양쪽이 똑같이 맞아 떨어지게 된다.

{% blockquote 꼭지점의 좌표가 (h k)이고 대칭축이 x = h인 포물선의 방정식 %}
![수직축을 가지는 포물선의 방정식](/imgs/parabola_v.png)

$$y = a{(x - h)}^{2} + k$$  
{% endblockquote %}
  
{% blockquote 꼭지점의 좌표가 (h k)이고 대칭축이 y = k인 포물선의 방정식 %}
![수평축을 가지는 포물선의 방정식](/imgs/parabola_h.png)  

$$x = a{(y - k)}^{2} + h$$  
{% endblockquote %}  

포물선의 방정식으로 어느정도 포물선의 모양을 그려볼 수 있는데, 다음의 성질을 이용할 수 있다.

* $$y = a{(x - h)}^{2} + k$$ 는 위/아래로 열려있는 상/하 형태의 포물선
* $$x = a{(y - k)}^{2} + h$$ 는 좌/우로 열려있는 형태의 포물선
* 상수 a는 포물선의 열린 방향과 크기를 결정한다.
	* a가 양수이면, 위쪽 또는 오른쪽으로 열린모양
	* a가 음수이면, 아래쪽 또는 왼쪽으로 열린모양
	* a가 0에 가까울수록 포물선은 넓게 펴짐

포물선의 꼭지점은, 포물선의 방정식의 형태로 유추할 수 있다.  
예를 들어, $$y = 2{(x - 3)}^{2} - 7$$ 이라는 포물선의 방정식이 있다면, $$y = a{(x - h)}^{2} + k$$ 의 형태에서 ``(h, k)``가 포물선의 꼭지점 이므로, 꼭지점은 ``(3, -7)``이 된다.

## 원의 방정식
그래픽스 프로그래밍상에서도 원과 구는 매우 중요한 부분을 차지한다. 원의 구성요소는 원의 중심점(원점)과 반지름이다. 또한, 이 구성요소를 사용해서 원의 방정식을 정의할 수 있다.  
원 위의 한점 ``(x, y)``로 부터 원의 원점까지의 거리는 피타고라스의 정리를 통해 알아낼 수 있다. 원의 방정식은 피타고라스의 정리와 매우 유사하다.

{% blockquote 원점 (h k)와 원 위의 한 점 (x y). 반지름 r %}
원의 방정식

$${ (x - h) }^{ 2 }+{ (y - k) }^{ 2 }={ r }^{ 2 }$$

{% endblockquote %}

아래의 그림은, 원점이 (5, 4)이고 반지름이 3이므로, 원의 방정식은 $${ (x - 5) }^{ 2 }+{ (y - 4) }^{ 2 }={ 3 }^{ 2 }$$ 이다.

![원점이 (4,4)이고 반지름이 4인 원](/imgs/equation-of-circle.png)

위 그림에 해당하는 방정식에, 원 위의 임의의 점 (2, 4)를 대입해보면, 식이 성립하는것을 알 수 있다.  

* $${ (2 - 5) }^{ 2 }+{ (4 - 4) }^{ 2 }={ 3 }^{ 2 }$$
* $${ (-3) }^{ 2 }+{ (0) }^{ 2 }={ 3 }^{ 2 }$$
* ``9 + 0 = 9``

원점이 (0, 0)인 원의 방정식은 피타고라스의 정리와 훨씬 더 비슷해진다.

{% blockquote 원점이 (0 0)인 원의 방정식 %}
$${ x }^{ 2 }+{ y }^{ 2 }={ r }^{ 2 }$$
{% endblockquote %}

## 구의 방정식
이제는, 원을 3차원으로 확장해서 생각해봐야한다. 원과 구는 프로그래밍시 특정 모델의 경계 원 또는 구로 사용하여 충돌검출에 응용되곤 한다. 구도 마찬가지로 원점과 반지름만 있으면 방정식으로 정의할 수 있다.  
단, 구는 3차원 객체이므로 z축의 좌표가 추가된다.

{% blockquote 원점 (h k l)과 구 위의 한 점 (x y z). 반지름 r %}
구의 방정식

$${ (x - h) }^{ 2 }+{ (y - k) }^{ 2 }+{ (z - l) }^{ 2 }={ r }^{ 2 }$$

{% endblockquote %}

원과 마찬가지로, **구**도 원점이 ``(0, 0, 0)``일때는 아래와 같은 공식을 얻을 수 있다.

{% blockquote 원점이 (0 0 0)인 구의 방정식 %}
$${ x }^{ 2 }+{ y }^{ 2 }+{ z }^{ 2 }={ r }^{ 2 }$$
{% endblockquote %}

## 원과 구를 활용한 충돌검출
앞서 원과 구는 그래픽스 프로그래밍에서 충돌검출을 위한 도구로 사용한다고 했다.  
특정 물체의 중심과 그 중심으로 부터 가장 멀리 떨어진 지점을 알 고 있다면, 원의 방정식 또한 정의할 수 있다. 충돌을 검사하고자 하는 물체는 각 물체의 경계원의 방정식을 정의하고 서로의 반지름의 합과 비교한다.  

이를 테면, 두 경계원이 정확히 붙어 있다면, 각 경계원의 중심간 거리는, 각 경계원의 반지름의 합과 일치할 것이다.

{% blockquote %}
경계원 R1과 R2의 중심사이의 거리 D  
R1의 반지름은 r1, 

D = 
{% endblockquote %}




